<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stopper Ã“ra</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="shortcut icon" href="favicon.svg">
    <script src="assets/vue.global.prod.js"></script>
    <link rel="stylesheet" href="assets/style.css">
</head>
<body>
    <div id="app">
        <div class="container" :class="{ 'edit-mode': isEditMode }">
            <div class="left-side" :class="{ 'edit-mode': isEditMode }"></div>
            <div class="right-side" :class="{ 'edit-mode': isEditMode }">
                <div class="stopwatch-container">
                    <div 
                        class="time-display"
                        :class="{ 'clickable': !isEditMode, 'edit-mode': isEditMode }"
                        @click="!isEditMode ? switchToEditMode() : null"
                    >{{ formattedTime }}</div>
                    <div v-if="isEditMode" class="controls" :class="{ 'edit-mode': isEditMode }">
                        <button 
                            v-if="!isRunning" 
                            @click="start" 
                            class="btn btn-start"
                            :class="{ 'edit-mode': isEditMode }"
                        >
                            Start
                        </button>
                        <button 
                            v-if="isRunning" 
                            @click="stop" 
                            class="btn btn-stop"
                            :class="{ 'edit-mode': isEditMode }"
                        >
                            Stop
                        </button>
                        <button 
                            @click="reset" 
                            class="btn btn-reset"
                            :class="{ 'edit-mode': isEditMode }"
                        >
                            Reset & Save
                        </button>
                    </div>
                    <div v-if="isEditMode" class="live-button-container" :class="{ 'edit-mode': isEditMode }">
                        <button 
                            @click="switchToLiveMode" 
                            class="btn btn-live"
                            :class="{ 'edit-mode': isEditMode }"
                        >
                            Leave edit mode
                        </button>
                    </div>
                </div>
                
                <div class="best-times" :class="{ 'edit-mode': isEditMode }">
                    <ul class="time-list" v-if="bestTimes.length > 0">
                        <li 
                            v-for="(timeObj, index) in bestTimes" 
                            :key="index" 
                            class="time-item"
                            :class="{ 'clickable': !isEditMode, 'edit-mode': isEditMode }"
                            @click="!isEditMode ? removeTimeSimple(index) : null"
                        >
                            <div class="time-info">
                                <span class="rank">{{ index + 1 }}.</span>
                                <span class="time-value">{{ formatTime(timeObj.time) }}</span>
                            </div>
                            <div class="time-right">
                                <span class="time-ago">{{ formatTimeAgo(timeObj.timestamp) }}</span>
                                <button 
                                    v-if="isEditMode"
                                    @click="removeTime(index)"
                                    class="delete-btn"
                                    title="TÃ¶rlÃ©s"
                                >
                                    Ã—
                                </button>
                            </div>
                        </li>
                    </ul>
                    <div v-else class="no-times" :class="{ 'edit-mode': isEditMode }">
                        MÃ©g nincsenek rÃ¶gzÃ­tett idÅ‘k
                    </div>
                    <div v-if="isEditMode && bestTimes.length > 0" class="clear-all-container" :class="{ 'edit-mode': isEditMode }">
                        <button 
                            @click="clearAllTimes" 
                            class="btn btn-clear-all"
                            :class="{ 'edit-mode': isEditMode }"
                        >
                            Clear All
                        </button>
                    </div>
                    <div v-if="isEditMode" class="keyboard-shortcuts" :class="{ 'edit-mode': isEditMode }">
                        <div class="shortcut-item">
                            <span class="shortcut-key">Alt + S</span>
                            <span class="shortcut-desc">Start/Stop</span>
                        </div>
                        <div class="shortcut-item">
                            <span class="shortcut-key">Alt + X</span>
                            <span class="shortcut-desc">Reset & Save</span>
                        </div>
                    </div>
                    <div v-if="isEditMode" class="voice-commands" :class="{ 'edit-mode': isEditMode }">
                        <div v-if="!isListening && speechRecognition" class="voice-toggle-container">
                            <button 
                                @click="startListening" 
                                class="btn btn-voice-toggle"
                                :class="{ 'edit-mode': isEditMode }"
                            >
                                ðŸŽ¤ Enable Voice Commands
                            </button>
                        </div>
                        <div v-if="isListening" class="voice-status">
                            <span class="voice-status-text">ðŸŽ¤ Voice commands active</span>
                        </div>
                        <div class="voice-command-item">
                            <span class="voice-command-key">ðŸŽ¤ "start" / "indÃ­t" / "kezd"</span>
                            <span class="voice-command-desc">Start</span>
                        </div>
                        <div class="voice-command-item">
                            <span class="voice-command-key">ðŸŽ¤ "stop" / "megÃ¡ll" / "Ã¡llj"</span>
                            <span class="voice-command-desc">Stop</span>
                        </div>
                        <div class="voice-command-item">
                            <span class="voice-command-key">ðŸŽ¤ "reset" / "vissza" / "nulla"</span>
                            <span class="voice-command-desc">Reset & Save</span>
                        </div>
                        <div class="voice-command-item">
                            <span class="voice-command-key">ðŸŽ¤ "Ã¶sszes tÃ¶rÃ¶l" / "clear"</span>
                            <span class="voice-command-desc">Clear All</span>
                        </div>
                    </div>
                    <div v-if="isEditMode" class="source-link">
                        <a href="https://github.com/Gabesz/rubik-timer" target="_blank">@https://github.com/Gabesz/rubik-timer</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="assets/script.js"></script>
</body>
</html>
